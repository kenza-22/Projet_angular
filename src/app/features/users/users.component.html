<div class="users-container">
  <h1 class="page-title">Gestion des Utilisateurs</h1>

  <div class="stats-container">
    <div class="stat-card">
      <div class="stat-value">{{ getTotalUsers() }}</div>
      <div class="stat-label">Total Utilisateurs</div>
    </div>
    <div class="stat-card">
      <div class="stat-value">{{ getActiveUsers() }}</div>
      <div class="stat-label">Utilisateurs Actifs</div>
    </div>
  </div>

  <div class="filters-container">
    <div class="search-container">
      <input 
        type="text" 
        class="search-input" 
        placeholder="Rechercher un utilisateur..."
        [(ngModel)]="searchQuery"
      />
    </div>

    <div class="filter-group">
      <label for="role-filter">Rôle:</label>
      <select 
        id="role-filter"
        class="filter-select"
        [(ngModel)]="selectedRole"
      >
        <option value="all">Tous les rôles</option>
        <option *ngFor="let role of uniqueRoles" [value]="role">{{ role }}</option>
      </select>
    </div>

    <div class="filter-group">
      <label for="department-filter">Département:</label>
      <select 
        id="department-filter"
        class="filter-select"
        [(ngModel)]="selectedDepartment"
      >
        <option value="all">Tous les départements</option>
        <option *ngFor="let dept of uniqueDepartments" [value]="dept">{{ dept }}</option>
      </select>
    </div>
  </div>

  <div class="users-list">
    <div 
      *ngFor="let user of users" 
      class="user-card"
      [ngClass]="{ 'inactive': !user.isActive }"
    >
      <div class="user-avatar">
        {{ getInitials(user) }}
      </div>
      
      <div class="user-info">
        <h2 class="user-name">{{ user.firstName }} {{ user.lastName }}</h2>
        <p class="user-email">{{ user.email }}</p>
        
        <div class="user-meta">
          <span class="user-role">{{ user.role }}</span>
          <span class="user-department">{{ user.department }}</span>
          <span 
            class="status-badge"
            [ngClass]="{
              'status-active': user.isActive,
              'status-inactive': !user.isActive
            }"
          >
            {{ user.isActive ? 'Actif' : 'Inactif' }}
          </span>
        </div>

        <div class="user-date">
          <span class="date-label">Date d'adhésion:</span>
          <span class="date-value">{{ formatDate(user.joinDate) }}</span>
        </div>
      </div>
    </div>

    <div *ngIf="users.length === 0" class="no-results">
      <p>Aucun utilisateur trouvé</p>
    </div>
  </div>
</div>
